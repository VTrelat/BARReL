% \barrel is a Lean~4 library that imports proof obligations generated by the industrial tool Atelier~B and lets users discharge them interactively inside Lean, using the usual tactic language and Mathlib infrastructure.
\barrel is a Lean~4 library bridging the industrial B method tool Atelier~B and the Lean proof assistant by enabling users to conduct their formal refinement workflow interactively inside Lean.
\barrel carefully handles ubiquitous B partial operators by generating explicit well-definedness conditions, leveraging Lean's dependent types to rigorously guarantee provability of proof obligations. \barrel also features basic automation to try to discharge such well-definedness conditions automatically.
The implementation is written entirely using Lean metaprogramming and is designed to be modular: extending the supported B fragment typically requires only adding new syntax and encoding clauses.
We illustrate the approach on a small but representative case study, and argue that \barrel can act as a stepping stone towards a strongly reliable Atelier~B toolchain grounded in the Lean proof assistant.